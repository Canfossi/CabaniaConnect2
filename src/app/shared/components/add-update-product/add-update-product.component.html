
<!-- que si prodcuto existe  entonce mostrar actualizar prodcuto y si no agregar prodcuto-->
<app-header [isModal]="true" [title]="product ? 'actualizar Cabañas ': 'agregar Producto'"></app-header>
<ion-content>
    <form [formGroup]="form" class="ion-padding ion-text-center"(ngSubmit)="submit()"(keypress.enter)="submit">
        <!--========================si existe una imagen================================-->
        <ion-avatar  *ngIf="form.value.image">
            <img [src]="form.value.image" />
        </ion-avatar>
        <!--========================si no existe una imagen================================-->
            <ion-icon   class="image-icon" *ngIf="!form.value.image" name="image-outline"></ion-icon>

            
            <br>
            <!--============================tomar o seleccionar una foto======================================================-->
            <ion-button (click)="takeImage()" mode="ios" size="small" shape="round">
            tomar/seleccionar
            </ion-button>



    <!--============================name======================================================-->
        
            <app-custom-input  
            
        
            [control]= "form.controls.name"
            type="text"
            label="Nombre"
            ></app-custom-input>
        
        <div class="validators " *ngIf="form.controls.name.errors && form.controls.name.touched">
        
            <div *ngIf="form.controls.name.errors?.['required']">este Campo es requerido</div>
            <div *ngIf="form.controls.name.errors?.['minlenght']">el nombre debe tener al menos 4 caracteres</div>
        
        </div>
    
    <!--============================price======================================================-->
    
            <app-custom-input  
           
            [control]= "form.controls.price"
            type="number"
            label="Precio"
            (ionInput)="setNumberInputs()"
            ></app-custom-input>

        <div class="validators " *ngIf="form.controls.price.errors && form.controls.price.touched">

            <div *ngIf="form.controls.price.errors?.['required']">este Campo es requerido<</div>
            <div *ngIf="form.controls.price.errors?.['min']">el precio minimo debe ser 0 </div>

        </div>

        <!--============================soldUnit======================================================-->
    
        <app-custom-input  
        
    
        [control]= "form.controls.soldUnits"
        type="number"
        label="dias arrendadas"
        (ionInput)="setNumberInputs()"
        ></app-custom-input>

    <div class="validators " *ngIf="form.controls.soldUnits.errors && form.controls.soldUnits.touched">

        <div *ngIf="form.controls.soldUnits.errors?.['required']">este Campo es requerido<</div>
        <div *ngIf="form.controls.soldUnits.errors?.['min']">la cantidad minimo debe ser 0 </div>

    </div>

   
    
         
    
          <ion-button   mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
            {{product ? 'Actualizar Cabaña ': 'agregar Producto'}}
            <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
          </ion-button>
    
      
      </form>
</ion-content>